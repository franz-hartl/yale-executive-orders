<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI-powered analysis of Presidential Executive Orders and their specific impacts on higher education institutions. Real-time intelligence for university compliance and planning.">
    <title>Executive Order Tracker | Yale University</title>
    <link rel="icon" href="https://www.yale.edu/sites/default/files/favicon.ico" type="image/x-icon">
    
    <!-- External CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Application CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/intelligence-hub.css">
</head>
<body class="min-h-screen">
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="yale-skip-link">Skip to main content</a>
    
    <div class="app-container">
        <!-- Header: Yale Style -->
        <header class="yale-header" role="banner">
            <div class="yale-container">
                <!-- Top content with Yale logo and title -->
                <div class="yale-flex yale-flex-col yale-md-flex-row yale-justify-between yale-gap-md">
                    <!-- Left side: Yale logo and title -->
                    <div>
                        <div class="yale-flex yale-items-center yale-mb-sm">
                            <h1 class="yale-h1">Executive Order Tracker</h1>
                        </div>
                    </div>
                    
                    <!-- Right side: Description -->
                    <div class="yale-mt-sm yale-md-mt-0">
                        <p class="yale-header__description">
                            Analysis of Presidential Executive Orders and their impacts on higher education institutions.
                        </p>
                    </div>
                </div>
                
                <!-- Status indicator will be inserted here by JavaScript -->
            </div>
        </header>
        
        <!-- Main content: Command Center Layout -->
        <main id="main-content" class="yale-mb-md" tabindex="-1">
            <!-- Command Bar - Filters Card -->
            <div class="yale-filter-card yale-mb-lg" role="search" aria-label="Filter executive orders">
                <div class="yale-filter-card__header">
                    <h2 class="yale-filter-card__title" id="filter-section-title">Document Filters</h2>
                </div>
                <div class="yale-filter-card__body">
                    <div class="yale-flex yale-flex-col yale-gap-md">
                        <!-- Search box -->
                        <div class="yale-form-group">
                            <label for="search-input" class="yale-form-label">Keyword Search</label>
                            <div class="yale-search">
                                <input type="text" 
                                       id="search-input" 
                                       placeholder="Search executive orders by keyword" 
                                       class="yale-input yale-search__input"
                                       aria-describedby="search-description" />
                            </div>
                            <span id="search-description" class="sr-only">
                                Enter keywords to search across all executive orders
                            </span>
                        </div>
                        
                        <!-- Mobile filter toggle -->
                        <div class="block lg:hidden yale-mb-sm">
                            <button id="mobile-filters-toggle" 
                                    class="yale-btn yale-btn--secondary yale-w-full"
                                    aria-expanded="false"
                                    aria-controls="filters-row">
                                <span>Advanced Filters</span>
                            </button>
                        </div>
                        
                        <!-- Filters row -->
                        <div id="filters-row" class="yale-grid yale-md-grid-cols-3 yale-gap-md">
                            <!-- Category dropdown -->
                            <div class="yale-form-group">
                                <label for="filter-category" class="yale-form-label">Category</label>
                                <select id="filter-category" class="yale-select" aria-describedby="category-description">
                                    <option value="">All Categories</option>
                                    <!-- Options populated by JavaScript -->
                                </select>
                                <span id="category-description" class="sr-only">
                                    Filter executive orders by their policy category
                                </span>
                            </div>
                            
                            <!-- Impact Level dropdown -->
                            <div class="yale-form-group">
                                <label for="filter-impact-level" class="yale-form-label">Impact Level</label>
                                <select id="filter-impact-level" class="yale-select" aria-describedby="impact-description">
                                    <option value="">All Impact Levels</option>
                                    <!-- Options populated by JavaScript -->
                                </select>
                                <span id="impact-description" class="sr-only">
                                    Filter by the level of impact on higher education
                                </span>
                            </div>
                            
                            <!-- University Impact Area dropdown -->
                            <div class="yale-form-group">
                                <label for="filter-university-area" class="yale-form-label">University Impact Area</label>
                                <select id="filter-university-area" class="yale-select" aria-describedby="area-description">
                                    <option value="">All University Impact Areas</option>
                                    <!-- Options populated by JavaScript -->
                                </select>
                                <span id="area-description" class="sr-only">
                                    Filter by specific university functional areas affected
                                </span>
                            </div>
                        </div>
                        
                        <!-- Clear filters button -->
                        <div class="yale-flex yale-justify-end yale-mt-sm">
                            <button id="clear-filters-btn" class="yale-btn yale-btn--outline yale-btn--sm">
                                Clear All Filters
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Data Container -->
            <div class="overflow-hidden">
                <!-- System info bar (Yale style with no rounded corners) -->
                <div class="system-info-bar yale-mb-lg">
                    <div class="yale-flex yale-flex-col yale-md-flex-row yale-justify-between yale-items-start yale-md-items-center">
                        <div class="yale-flex yale-items-center">
                            <i class="fas fa-database text-accent-blue-primary mr-2"></i>
                            <span id="system-info" class="yale-text-yale-blue yale-text-semibold">Yale Executive Order Tracker | Static Version</span>
                        </div>
                        <div class="yale-mt-sm yale-md-mt-0 yale-text-secondary">
                            <span>Last Updated: </span>
                            <span id="update-date">Unknown</span>
                        </div>
                    </div>
                </div>
                
                <!-- Data Display - Table -->
                <div class="yale-table-wrapper yale-mb-xl">
                    <table class="yale-table" aria-label="Executive Orders Data">
                        <caption class="sr-only">List of Executive Orders and their impact on higher education</caption>
                        <thead>
                            <tr>
                                <th scope="col" class="yale-table__sort-header" data-sort="impact_level" aria-sort="none">
                                    <button class="yale-table__sort-button yale-flex yale-items-center" aria-label="Sort by impact level">
                                        <span>Impact</span>
                                    </button>
                                </th>
                                <th scope="col" class="yale-table__sort-header" data-sort="order_number" aria-sort="none">
                                    <button class="yale-table__sort-button yale-flex yale-items-center" aria-label="Sort by order number">
                                        <span>Order #</span>
                                    </button>
                                </th>
                                <th scope="col" class="yale-table__sort-header" data-sort="title" aria-sort="none">
                                    <button class="yale-table__sort-button yale-flex yale-items-center" aria-label="Sort by title">
                                        <span>Title</span>
                                    </button>
                                </th>
                                <th scope="col">Categories</th>
                                <th scope="col">University Impact Areas</th>
                            </tr>
                        </thead>
                        <tbody id="eo-table-body">
                            <!-- Table rows will be populated by JavaScript -->
                            <tr>
                                <td colspan="5" class="yale-table__loading">
                                    <div role="status" aria-live="polite">Loading...</div>
                                    <p class="yale-loading__text">Loading executive orders...</p>
                                    <p class="yale-text-sm yale-text-secondary">Please wait while we retrieve the data</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
        
        <!-- Footer - Yale style -->
        <footer class="yale-footer" role="contentinfo">
            <div class="yale-container">
                <div class="yale-flex yale-flex-col yale-md-flex-row yale-justify-between yale-items-start">
                    <div class="yale-mb-md yale-md-mb-0">
                        <p class="yale-mb-sm">
                            Executive Order Tracker
                        </p>
                        <p class="yale-text-sm yale-mb-md">
                            Analysis powered by Claude AI
                        </p>
                        <p class="yale-text-xs yale-opacity-70">
                            Â© <span id="current-year">2023</span> Yale University. All rights reserved.
                        </p>
                    </div>
                    <div class="yale-footer__nav">
                        <div class="yale-footer__links-group">
                            <h3 class="yale-footer__heading">Resources</h3>
                            <ul class="yale-footer__links">
                                <li><a href="https://www.whitehouse.gov/briefing-room/presidential-actions/executive-orders/" class="yale-footer__link">White House Executive Orders</a></li>
                                <li><a href="https://www.federalregister.gov/presidential-documents/executive-orders" class="yale-footer__link">Federal Register</a></li>
                                <li><a href="https://github.com/franz-hartl/yale-executive-orders" class="yale-footer__link">GitHub Repository</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="yale-footer__bottom">
                    <div class="yale-flex yale-justify-center yale-mt-lg">
                        <a href="#main-content" class="yale-btn yale-btn--outline yale-btn--sm">
                            Back to Top
                        </a>
                    </div>
                </div>
            </div>
        </footer>
        
        <script>
            // Set current year in footer copyright
            document.getElementById('current-year').textContent = new Date().getFullYear();
        </script>
    </div>
    
    <!-- Detail Modal -->
    <div id="detail-view" class="yale-modal__backdrop yale-modal__backdrop--hidden" role="dialog" aria-modal="true" aria-labelledby="detail-title" aria-describedby="detail-summary">
        <div class="yale-modal__content yale-modal__content--lg">
            <!-- Modal Header -->
            <div class="yale-modal__header">
                <div>
                    <h2 id="detail-title" class="yale-modal__title">Executive Order Details</h2>
                    <div class="yale-flex yale-flex-wrap yale-gap-sm yale-items-center yale-mt-sm">
                        <span id="detail-order-number" class="yale-text-sm yale-text-semibold yale-text-secondary yale-mr-xs"></span>
                        <span id="detail-impact-level" class="yale-badge yale-badge--medium" aria-live="polite"></span>
                    </div>
                </div>
                <button id="close-detail-btn" class="yale-modal__close" aria-label="Close details">
                    Close
                </button>
            </div>
            
            <!-- Modal Content -->
            <div class="yale-modal__body">
                <!-- Order metadata -->
                <div class="yale-mb-lg">
                    <div class="yale-grid yale-md-grid-cols-2 yale-gap-md yale-mb-md">
                        <div>
                            <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">President</h3>
                            <p id="detail-president" class="yale-text-primary"></p>
                        </div>
                        <div>
                            <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">Signing Date</h3>
                            <p id="detail-date" class="yale-text-primary"></p>
                        </div>
                    </div>
                    
                    <div class="yale-mb-md">
                        <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">Summary</h3>
                        <p id="detail-summary" class="yale-text-primary" aria-live="polite"></p>
                    </div>
                    
                    <div class="yale-grid yale-md-grid-cols-2 yale-gap-md yale-mt-md">
                        <div>
                            <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">Categories</h3>
                            <div id="detail-categories" class="yale-tag-group"></div>
                        </div>
                        <div>
                            <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">Impact Areas</h3>
                            <div id="detail-impact-areas" class="yale-tag-group"></div>
                        </div>
                    </div>
                    
                    <div class="yale-mt-md">
                        <h3 class="yale-text-xs yale-text-uppercase yale-text-yale-blue yale-text-semibold yale-mb-xs">University Impact Areas</h3>
                        <div id="detail-university-impact-areas" class="yale-tag-group"></div>
                    </div>
                </div>
                
                <!-- Tabs and Content -->
                <div class="yale-mt-md yale-border-t yale-pt-md">
                    <!-- Tab navigation -->
                    <div class="yale-tabs" data-tabs-animate="true">
                        <div class="yale-tabs__nav">
                            <button id="tab-1" class="yale-tab-button yale-tab-button--active" data-tab-target="standard-tab" role="tab" aria-selected="true" aria-controls="standard-tab">
                                Standard Summary
                            </button>
                            <button id="tab-2" class="yale-tab-button" data-tab-target="executive-brief-tab" role="tab" aria-selected="false" aria-controls="executive-brief-tab">
                                Executive Brief
                            </button>
                            <button id="tab-3" class="yale-tab-button" data-tab-target="comprehensive-analysis-tab" role="tab" aria-selected="false" aria-controls="comprehensive-analysis-tab">
                                Comprehensive Analysis
                            </button>
                        </div>
                    </div>
                    
                    <!-- Tab contents -->
                    <div class="yale-py-md">
                        <!-- Standard Summary Tab -->
                        <div id="standard-tab" class="yale-tab-content" role="tabpanel">
                            <div id="plain-summary-content" class="prose prose-blue max-w-none">
                                <!-- Content loaded via JavaScript -->
                                <div class="yale-loading">
                                    <p class="yale-loading__text">Loading summary...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Executive Brief Tab -->
                        <div id="executive-brief-tab" class="yale-tab-content yale-tab-content--hidden" role="tabpanel">
                            <div id="executive-brief-content" class="prose prose-blue max-w-none">
                                <!-- Content loaded via JavaScript -->
                                <div class="yale-loading">
                                    <p class="yale-loading__text">Loading executive brief...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Comprehensive Analysis Tab -->
                        <div id="comprehensive-analysis-tab" class="yale-tab-content yale-tab-content--hidden" role="tabpanel">
                            <div id="comprehensive-analysis-content" class="prose prose-blue max-w-none">
                                <!-- Content loaded via JavaScript -->
                                <div class="yale-loading">
                                    <p class="yale-loading__text">Loading comprehensive analysis...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modal Footer -->
            <div class="yale-modal__footer">
                <div class="yale-flex yale-flex-col yale-md-flex-row yale-justify-between yale-items-center yale-gap-md">
                    <a id="detail-url" href="#" target="_blank" rel="noopener noreferrer" class="yale-btn yale-btn--primary">
                        View Official Document
                    </a>
                    <button class="yale-btn yale-btn--outline yale-btn--sm" id="close-detail-btn-bottom">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification Container -->
    <div id="toast-container"></div>
    
    <!-- Yale Component Library JavaScript -->
    <script src="js/yale-components/accessibility.js"></script>
    <script src="js/yale-components/tabs.js"></script>
    <script src="js/yale-components/accordion.js"></script>
    <script src="js/yale-components/modal.js"></script>
    <script src="js/yale-components/toast.js"></script>
    <script src="js/yale-components.js"></script>
    
    <!-- Application JavaScript -->
    <script src="js/intelligence-hub.js"></script>
    <script src="js/app.js"></script>
</body>
</html>